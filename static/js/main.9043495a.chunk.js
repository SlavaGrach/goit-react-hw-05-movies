(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={link:"Navigation_link__GjlOp",activeLink:"Navigation_activeLink__2JFf1 Navigation_link__GjlOp"}},26:function(e,t,n){e.exports={container:"Container_container__3EVLM"}},29:function(e,t,n){e.exports={header:"AppBar_header__m7EyO"}},34:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(25),i=n.n(a),s=(n(34),n(2)),o=n(26),u=n.n(o),j=n(0);function l(e){var t=e.children;return Object(j.jsx)("div",{className:u.a.container,children:t})}var p=n(3),b=n.n(p),h=n(8),d=n(9),f=n(11),x=n.n(f),O="https://api.themoviedb.org/3/",v="27479e60681c50d3081750a08a447d06";function m(){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/trending/movie/week?api_key=".concat(v,"&page=1"));case 2:return t=e.sent,n=t.data,c=n.results,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(b.a.mark((function e(t){var n,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/search/movie?api_key=".concat(v,"&page=1&query=").concat(t));case 2:return n=e.sent,c=n.data,r=c.results,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(O,"/movie/").concat(t,"?api_key=").concat(v));case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x.a.defaults.baseURL=O;var N=n(7),S=function(e){var t=e.film;Object(s.g)().url;return Object(j.jsx)("li",{children:Object(j.jsx)(N.b,{to:"movies/".concat(t.id),children:t.original_title})})},E=function(e){var t=e.films;return Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsx)(S,{film:e},e.id)}))})},F=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,m();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Trending Today"}),n&&Object(j.jsx)(E,{films:n})]})},L=n(12),C=n.n(L);var G=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(N.c,{to:"/",exact:!0,className:C.a.link,activeClassName:C.a.activeLink,children:"Home"}),Object(j.jsx)(N.c,{to:"/movies",className:C.a.link,activeClassName:C.a.activeLink,children:"Movies"})]})},I=n(29),J=n.n(I);function M(){return Object(j.jsx)("header",{className:J.a.header,children:Object(j.jsx)(G,{})})}var A=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(d.a)(a,2),s=i[0],o=i[1];return Object(c.useEffect)((function(){n&&function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,k(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.movieName.value.trim();t&&r(t)},children:[Object(j.jsx)("input",{type:"text",name:"movieName",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(j.jsx)("button",{type:"submit",children:Object(j.jsx)("span",{children:"Search"})})]}),s&&Object(j.jsx)(E,{films:s})]})},B=function(e){var t=e.movie;console.log(t);var n=t.poster_path,c=t.title,r=t.genres,a=t.vote_average,i=(t.vote_count,t.release_date),s=t.overview;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{children:"Go back"}),Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(n),alt:"title",height:"300px"}),Object(j.jsx)("h1",{children:"".concat(c," (").concat(i.substring(0,4),")")}),Object(j.jsx)("p",{children:"User score: ".concat(10*a,"%")}),Object(j.jsx)("h2",{children:"Overview"}),Object(j.jsx)("p",{children:s}),Object(j.jsx)("p",{children:"Genre"}),Object(j.jsx)("p",{children:r.map((function(e){return e.name})).join(", ")}),Object(j.jsx)("p",{children:"Additional information"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(N.c,{to:"",children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(N.c,{to:"",children:"Reviews"})})]})]})},R=function(){var e=Object(s.f)().movieId,t=Object(c.useState)(null),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){function t(){return(t=Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:if(n=t.sent){t.next=6;break}throw new Error("Page not found");case 6:a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Some shit is happened");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(j.jsx)(j.Fragment,{children:r&&Object(j.jsx)(B,{movie:r})})};var T=function(){return Object(j.jsxs)(l,{children:[Object(j.jsx)(M,{}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/",exact:!0,children:Object(j.jsx)(F,{})}),Object(j.jsx)(s.a,{path:"/movies",exact:!0,children:Object(j.jsx)(A,{})}),Object(j.jsx)(s.a,{path:"/movies/:movieId",exact:!0,children:Object(j.jsx)(R,{})})]})]})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N.a,{children:Object(j.jsx)(T,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.9043495a.chunk.js.map